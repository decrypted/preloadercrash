# Run in a docker
 `make run`

# Enable dumps (optional)
 `sudo sysctl -w kernel.core_pattern=core.%u.%p.%t`
 
# Get trace
- https://bugs.php.net/bugs-generating-backtrace.php
- `make shell` and run `gdb /usr/local/bin/php core.*` then get the bt


# Crash
```
PHP 7.4.2 (cli) (built: Jan 24 2020 06:43:03) ( NTS )
Copyright (c) The PHP Group
Zend Engine v3.4.0, Copyright (c) Zend Technologies
    with Zend OPcache v7.4.2, Copyright (c), by Zend Technologies

Core was generated by `php crash.php'.
Program terminated with signal SIGSEGV, Segmentation fault.
#0  0x000056285c434bc8 in zend_cleanup_internal_class_data ()
(gdb) bt
#0  0x000056285c434bc8 in zend_cleanup_internal_class_data ()
#1  0x000056285c435378 in destroy_zend_class ()
#2  0x000056285c450215 in zend_hash_destroy ()
#3  0x000056285c440366 in ?? ()
#4  0x000056285c3e080a in php_module_shutdown ()
#5  0x000056285c18052d in ?? ()
#6  0x00007ff2c216a09b in __libc_start_main (main=0x56285c1800c0, argc=2, argv=0x7ffc1580bec8, init=<optimized out>, fini=<optimized out>, rtld_fini=<optimized out>, stack_end=0x7ffc1580beb8) at ../csu/libc-start.c:308
#7  0x000056285c180c2a in _start ()
```
